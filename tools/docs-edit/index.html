<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<title>無標題文件</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.top {
background:#fff;
box-shadow:0 0 15px 1px rgba(0,0,0,0.05);
width:100%;
height:60px;
position:absolute;
top:0px;
left:0px;
}
.docsname {
border:none;
background:#f5f5f5;
width:180px;
height:40px;
border-radius:8px;
font-size:20px;
margin:10px;
padding:3px;
}
.text {
position:absolute;
top:60px;
left:0px;
width:100%;
height:100%;
border-radius:0px;
border:none;
font-size:20px;
}
</style>
<textarea class="text">
</textarea>
<div class="top">
<input type="text" class="docsname" value="無標題文件">
</div>



<script>
var bord = 'no' ;
var getUrlString = location.href;
var urls = new URL(getUrlString);

function save() {
getUrlString = location.href;
urls = new URL(getUrlString);

var today=new Date();
var yy = today.getFullYear();
var mmm = today.getMonth()+1 ;
var ddd = today.getDate() ;
var hh=today.getHours();
var mm=today.getMinutes();
var ss=today.getSeconds();
history.pushState(null, null,'?g=1&ke=' + bord + '&title=' + $('.docsname').val() + '&txt=' + $('.text').val() + '&savetime=' + yy + ',' + mmm + ',' + ddd + ',' + hh + ',' + mm + ',' + ss);

}

$('.docsname').change(function(){
$('title').html($('.docsname').val())
save();
});

$('.text').change(function(){
save();
});


$('.docsname').val(urls.searchParams.get('title'));
$('title').html(urls.searchParams.get('title'));
$('.text').val(urls.searchParams.get('txt'));


$('.docsname,.text').focus(function(){
bord = 'yes' ;
save();
});
$('.docsname,.text').blur(function(){
bord = 'no' ;
save();
});

if(urls.searchParams.get('g') === "1") {

}
else {
$('.docsname').val('無標題文件');
save();
}

setInterval(function(){
save();
}, 30000);


</script>
