<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<meta charset="UTF-8">
<link href="674cb55f-9c25-c09c-3388-873da7741cff-512.png" rel="apple-touch-icon" />
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="icon" /> 
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="bookmark" />
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="shortcut icon" />
<meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>捷運路線圖</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');
.mapdiv {position:absolute;top:45px;left:0px; width:25%;height:calc(100% - 105px);background:#ffffff;overflow:scroll;}
.bottomdiv {position:fixed;bottom:0px;left:0px;width:100%;height:60px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);}

.hometoptab {width:100%;height:45px;position:fixed;top:0px;left:0px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);z-index:1000;font-family: 'Noto Sans TC', sans-serif;}

  .loadbg {width:100%;height:100%;position:fixed;top:0px;left:0px;-webkit-backdrop-filter: blur(15px);backdrop-filter: blur(15px);background: rgba(255, 255, 255, 0.3);z-index:1001;}
  @media only screen and (max-width:550px) {
    .icon {width:60%;}
  }
  @media only screen and (min-width:550px) {
    .icon {width:20%;}
  }
  .langdiv {
    position:fixed;bottom:-200px;left:0px;width:100%;height:200px;background:#f2f2f2;overflow:scroll;
  }
  .langb {text-align:center;font-family: 'Noto Sans TC', sans-serif;text-decoration:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;height:50px;background:#f2f2f2;border-top: 1px solid #ccc;margin-top:0px;color:#333333;font-size:25px;padding:3px 0px;position:absolute;top:0px;left:0px;}
</style>
<body>
<div class="hometoptab">
    
      
    <div style="position: absolute;left:50%;top:40%; transform:translate(-50%,-50%); width:100%;height:100%;">
      
      <div style="position: absolute;left:0%;top:0%;width:25%;height:100%;background:rga(0, 0, 0, 0);">       
<a href="javascript:hometabof1()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop1"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#333333;font-size:18px;" id="opopa">台北</span></a>     
</div>    
      <div style="position: absolute;left:25%;top:0%;width:25%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof2()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop2"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#808080;font-size:18px;" id="opopb">高雄</span></a>  
      </div>
<div style="position: absolute;left:50%;top:0%;width:25%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof3()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop3"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#808080;font-size:18px;" id="opopc">桃機</span></a>  
      </div>
<div style="position: absolute;left:75%;top:0%;width:25%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof4()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop4"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#808080;font-size:18px;" id="opopd">淡海</span></a>  
      </div>
      
      <div style="width:25%;height:3px;position: absolute;left:0%;bottom:5px;background:rgba(0, 0, 0, 0);border-radius: 5px;" id="opopline">
     <div style="width:50px;height:3px;background:#333333;border-radius: 5px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);" id="colorbar"></div>
      
      </div>
      
    </div> 
    <div class="hometoptabline"></div>
  </div>
<div style="position:fixed;top:0px;left:0px;overflow:hidden;width:100%;height:100%;">
  
<div id="allmap" style="position:fixed;top:0px;left:0%;width:400%;height:100%;background:rgba(0, 0, 0, 0);">
<div class="mapdiv" id="tp">
<img src="map.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="map">
</div>

<div class="mapdiv" id="km" style="left:25%;">
<img src="krtmap.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="krtmap">
</div>

<div class="mapdiv" id="ty" style="left:50%;">
<img src="tymap.jpg" style="width:500%;position:absolute;top:0px;left:0px;" id="tymap">
</div>
  
  <div class="mapdiv" id="tr" style="left:75%;">
<img src="trmap.png" style="width:500%;position:absolute;top:0px;left:0px;" id="trmap">
</div>
  
  </div>
</div>
<a href="javascript:langs()" style="outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position:fixed;left:0px;left:0px;width:100%;height:100%;background:rgba(0, 0, 0, 0.6);display:none;" id="langbgg"></div>
<div class="bottomdiv">
<a href="javascript:reduce()" style="width:58px;height:58px;background:#ffffff;border-right: 1px solid #ccc;position:absolute;left:0px;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="reduce.svg" style="width:30px;"></span></a>

<a href="javascript:add()" style="width:58px; height:58px;background:#ffffff; border-left: 1px solid #ccc; position:absolute;left:58px;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"> <span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="add.svg" style="width:30px;"></span></a>
<a href="javascript:langs()" style="width:58px; height:58px;background:#ffffff; border-left: 1px solid #ccc; position:absolute;left:116px;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="lang.svg" style="width:30px;"></span></a>
  
  <a href="googletpmap.html" target="_blank" style="display:none;width:58px; height:58px;background:#ffffff; border-left: 1px solid #ccc; position:absolute;left:116;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"> <span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="pin.svg" style="width:30px;"></span></a>
  
</div>
  <div class="langdiv">
    <a href="?lang=zh_TW" class="langb">中文</a>
    <a href="?lang=en_US" class="langb" style="top:57px;">English</a>
    <a href="?lang=JP" class="langb" style="top:115px;">Japanese</a>
    
  </div>
<div class="loadbg">
<img src="metro.svg" style="position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);" class="icon">
</div>

<script>
var p = 500 ;
function reduce() {
if (p >100) {
p -= 100 ;
}
$('#map,#krtmap,#tymap,#trmap').animate({width: p + '%' },555);
}

function add() {
if (p < 1000) {
p += 100 ;
}
$('#map,#krtmap,#tymap,#trmap').animate({width: p + '%' },555);
}
var ttiawid = 50 ;
function hometabof1() {
  $("#opopline").animate({left: 0 + '%' },555);
    
    $("#opopa").css("color","#333333");
    $("#opopb").css("color","#808080");
    $("#opopc").css("color","#808080");
    $("#opopd").css("color","#808080");
    $('#allmap').animate({left: 0 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
    $('#allmap,.mapdiv,body').animate({background :"#fafafa"}, 555);
  }
  
  function hometabof2() {
$("#opopline").animate({left: 25 + '%' },555);
    
    $("#opopa").css("color","#808080");
    $("#opopb").css("color","#333333");
    $("#opopc").css("color","#808080");
    $("#opopd").css("color","#808080");
    $('#allmap').animate({left: -100 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
    $('#allmap,.mapdiv,body').animate({background :"#e9e9e9"}, 555);
  }

function hometabof3() {
$("#opopline").animate({left: 50 + '%' },555);
    
    $("#opopa").css("color","#808080");
    $("#opopb").css("color","#808080");
    $("#opopc").css("color","#333333");
    $("#opopd").css("color","#808080");
    $('#allmap').animate({left: -200 + '%' },555);
    $('#colorbar').animate({width: ttiawid + 'px' },555);
    $('#allmap,.mapdiv,body').animate({background :"#eef0ef"}, 555);
  }
  
function hometabof4() {
$("#opopline").animate({left: 75 + '%' },555);
    
    $("#opopa").css("color","#808080");
    $("#opopb").css("color","#808080");
    $("#opopc").css("color","#808080");
    $("#opopd").css("color","#333333");
    $('#allmap').animate({left: -300 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
    $('#allmap,.mapdiv,body').animate({background :"#ffffff"}, 555);
  } 
    $('.loadbg').delay(3800).fadeOut(888);
    
  var getUrlString = location.href;
var url = new URL(getUrlString);
  if (url.searchParams.get('lang') === "en_US") {
   $("#opopa").html('TPE');
   $("#opopb").html('KHH');
   $("#opopc").html('TTIA');
   $("#opopd").html('DLR');
   $("title").html('Metro route map');
   ttiawid = 55 ;
  }
  if (url.searchParams.get('lang') === "JP") {
   $("#opopa").html('台北');
   $("#opopb").html('高雄');
   $("#opopc").html('<font size="1px">ピーチマシン</font>');
   $("#opopd").html('<font size="2px">ダンハイ</font>');
   $("title").html('MRT路線図');
   ttiawid = 55 ;
  }
  
  var ni = 2 ;
  function langs() {
  if (ni >"1") {
$('.bottomdiv').animate({bottom: 200 + 'px' },555);
    $('.langdiv').animate({bottom: 0 + 'px' },555);
    $('#langbgg').fadeIn(555);
   ni -=2 ;
   } 
else {
$('.bottomdiv').animate({bottom: 0 + 'px' },555);
    $('.langdiv').animate({bottom: -200 + 'px' },555);
  $('#langbgg').fadeOut(555);
    ni +=2 ;   
  }
  }
</script>
<script>
  window.onload = function() {
    // 阻止雙擊放大
    var lastTouchEnd = 0;
    document.addEventListener('touchstart', function(event) {
        if (event.touches.length > 1) {
            event.preventDefault();
        }
    });
    document.addEventListener('touchend', function(event) {
        var now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
            event.preventDefault();
        }
        lastTouchEnd = now;
    }, false);

    // 阻止雙指放大
    document.addEventListener('gesturestart', function(event) {
        event.preventDefault();
    });
}
</script>
</body>
