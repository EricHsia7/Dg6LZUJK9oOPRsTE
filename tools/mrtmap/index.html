<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<meta charset="UTF-8">
<link href="674cb55f-9c25-c09c-3388-873da7741cff-512.png" rel="apple-touch-icon" />
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="icon" /> 
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="bookmark" />
<link type="image/x-icon" href="674cb55f-9c25-c09c-3388-873da7741cff-512.ico" rel="shortcut icon" />
<meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>捷運路線圖</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<style>
  .buttonaadiv {
    position: absolute;left:0px;top:0px;width:100%;height:100%;background:rgba(0, 0, 0, 0.6);display:none;
  }
  
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');
.mapdiv {position:absolute;top:45px;left:0px; width:20%;height:calc(100% - 105px);background:#ffffff;overflow:scroll;}
.bottomdiv {position:fixed;bottom:0px;left:0px;width:100%;height:60px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);border-top-right-radius:0px;border-top-left-radius:0px;}

.hometoptab {width:100%;height:45px;position:fixed;top:0px;left:0px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);z-index:1000;font-family: 'Noto Sans TC', sans-serif;}

  .loadbg {width:100%;height:100%;position:fixed;top:0px;left:0px;background: #ffffff;z-index:1001;}
  .msgdiv {position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:300px;height:250px;background:#ffffff;border-radius:20px;}
  @media only screen and (max-width:550px) {
    .icon {width:60%;}
    .addhome {display:block;}
  }
  @media only screen and (min-width:550px) {
    .icon {width:20%;}
    .addhome {display:none;}
  }
  .langdiv {
    position:fixed;bottom:-200px;left:0px;width:100%;height:200px;background:#ffffff;overflow:scroll;
  }
  .langb {text-align:center;font-family: 'Noto Sans TC', sans-serif;text-decoration:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;height:50px;background:#ffffff;border-top: 1px solid #ccc;margin-top:0px;color:#333333;font-size:25px;padding:3px 0px;position:absolute;top:0px;left:0px;}
  .colorbarpppppppp {width:50px;height:3px;border-radius: 5px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#333333;}

  .topbartextno {color:#808080;}
  .topbartextyes {color:#333333;}
  .lightimg {display:block;opacity:1;}
  .darkimg {display:none;opacity:0;}
  .morediv {
    position:fixed;bottom:-200px;left:0px;width:100%;height:200px;background:#ffffff;overflow:scroll;
  }
  p {color:#333;}
  
  
  
  .msgdiv {
display:none;position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:300px;height:170px;background:#f2f2f2;border-radius:20px;color:#333;z-index:1000010;
}
.msgyes {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position: absolute;left:0px;bottom:0px;width:50%;height:45px;background:#f2f2f2;border-radius:0px 0px 0px 20px; border-top:1px #ccc solid;color:#333;}

.msgno {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position: absolute;right:0px;bottom:0px;width:50%;height:45px;background:#f2f2f2;border-radius:0px 0px 20px 0px; border-left:1px #ccc solid; border-top:1px #ccc solid;color:#333;}
  body {background:#ffffff;}
 
  
  
  .webdiv {
position:fixed;
bottom:-100%;
left:0px;
width:100%;
height:100%;
background:#f2f2f2;
border-top-left-radius:30px;
border-top-right-radius:30px;
}
.webtitle {
border-top-left-radius:30px;
border-top-right-radius:30px;
position:absolute;
top:0px;
left:0px;
width:100%;
height:50px;
background:#fff;
color:#333;
}
.web {
position: absolute;
bottom: 0px;
left:0px;
width:100%;
height: calc(100% - 50px);
border:none;
}
  
  
  
  
  
  @media (prefers-color-scheme: dark) {
    
    
    .webdiv {
position:fixed;
bottom:-100%;
left:0px;
width:100%;
height:100%;
background:#f2f2f2;
border-top-left-radius:30px;
border-top-right-radius:30px;
}
.webtitle {
border-top-left-radius:30px;
border-top-right-radius:30px;
position:absolute;
top:0px;
left:0px;
width:100%;
height:50px;
background:#333;
color:#fff;
}
.web {
position: absolute;
bottom: 0px;
left:0px;
width:100%;
height: calc(100% - 50px);
border:none;
}
    
    
    
    
    body {background:#333333;}
    .mapdiv {position:absolute;top:45px;left:0px; width:20%;height:calc(100% - 105px);background:#333333;overflow:scroll;}
    
    .msgdiv {
display:none;position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:300px;height:170px;background:#333333;border-radius:20px;color:#fff;z-index:1000010;
}
.msgyes {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position: absolute;left:0px;bottom:0px;width:50%;height:45px;background:#333333;border-radius:0px 0px 0px 20px; border-top:1px #ccc solid;color:#fff;}

.msgno {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position: absolute;right:0px;bottom:0px;width:50%;height:45px;background:#333333;border-radius:0px 0px 20px 0px; border-left:1px #ccc solid; border-top:1px #ccc solid;color:#fff;}
    
    
    
p {color:#fff;}
     .morediv {
    position:fixed;bottom:-200px;left:0px;width:100%;height:200px;background:#333333;overflow:scroll;
  }
    .loadbg {width:100%;height:100%;position:fixed;top:0px;left:0px;background: #333333;z-index:1001;}
      .lightimg {display:none;opacity:0;}
  .darkimg {display:block;opacity:1;}
    .topbartextno {color:#808080;}
    .topbartextyes {color:#ffffff;}
    
    .hometoptab {width:100%;height:45px;position:fixed;top:0px;left:0px;background:#333333; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);font-family: 'Noto Sans TC', sans-serif;}
     .colorbarpppppppp {width:50px;height:3px;border-radius: 5px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#ffffff;}
    .bottomdiv {position:fixed;bottom:0px;left:0px;width:100%;height:60px;background:#333; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);border-top-right-radius:0px;border-top-left-radius:0px;}
.langdiv {
    position:fixed;bottom:-200px;left:0px;width:100%;height:200px;background:#333;overflow:scroll;
  }
  .langb {text-align:center;font-family: 'Noto Sans TC', sans-serif;text-decoration:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;height:50px;background:#333;border-top: 1px solid #ccc;margin-top:0px;color:#fff;font-size:25px;padding:3px 0px;position:absolute;top:0px;left:0px;}
  
  }



</style>
<body>

<div class="hometoptab">
    
      
    <div style="position: absolute;left:50%;top:40%; transform:translate(-50%,-50%); width:100%;height:100%;">
      
      <div style="position: absolute;left:0%;top:0%;width:20%;height:100%;background:rga(0, 0, 0, 0);">       
<a href="javascript:hometabof1()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop1"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;" id="opopa" class="topbartextyes">北</span></a>     
</div>    
      
      <div style="position: absolute;left:20%;top:0%;width:20%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof2()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop2"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;" id="opopb" class="topbartextno">雄</span></a>  
      </div>
<div style="position: absolute;left:40%;top:0%;width:20%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof3()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop3"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;" id="opopc" class="topbartextno">桃</span></a>  
      </div>
<div style="position: absolute;left:60%;top:0%;width:20%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof4()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop4"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;" id="opopd" class="topbartextno">淡</span></a>  
      </div>
            <div style="position: absolute;left:80%;top:0%;width:20%;height:100%;background:rga(0, 0, 0, 0);">       
<a href="javascript:hometabof5()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop5"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;" id="opope" class="topbartextno">中</span></a>     
</div> 
      
      <div style="width:20%;height:3px;position: absolute;left:0%;bottom:5px;background:rgba(0, 0, 0, 0);border-radius: 5px;" id="opopline">
     <div style="width:50px;height:3px;border-radius: 5px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);" class="colorbarpppppppp" id="colorbar"></div>
      
      </div>
      
    </div> 
    <div class="hometoptabline"></div>
  </div>
<div style="position:fixed;top:0px;left:0px;overflow:hidden;width:100%;height:100%;">
  
<div id="allmap" style="position:fixed;top:0px;left:0%;width:500%;height:100%;background:rgba(0, 0, 0, 0);">
<div class="mapdiv" id="tp">
<img src="map.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="map" class="lightimg">
<img src="map_dark.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="map2" class="darkimg">
  </div>

<div class="mapdiv" id="km" style="left:20%;">
<img src="krtmap.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="krtmap"class="lightimg">
  <img src="krtmap_dark_big.png" style="width:500%;position:absolute;top:0px;left:0px;" id="krtmap2" class="darkimg">
</div>

<div class="mapdiv" id="ty" style="left:40%;">
<img src="tymap.jpg" style="width:500%;position:absolute;top:0px;left:0px;" id="tymap"class="lightimg">
<img src="tymap_dark.png" style="width:500%;position:absolute;top:0px;left:0px;" id="tymap2"class="darkimg">
  </div>
  
  <div class="mapdiv" id="tr" style="left:60%;">
<img src="trmap.png" style="width:500%;position:absolute;top:0px;left:0px;" id="trmap"class="lightimg">
    <img src="trmap_dark.png" style="width:500%;position:absolute;top:0px;left:0px;" id="trmap2"class="darkimg">
</div>
  
  <div class="mapdiv" id="tg" style="left:80%;">
    <img src="tgmap_big.jpeg" style="width:500%;position:absolute;top:0px;left:0px;" id="tgmap"class="lightimg">
    <img src="tgmap_dark_big.png" style="width:500%;position:absolute;top:0px;left:0px;" id="tgmap2"class="darkimg">
</div> 
  
  </div>
</div>
  <a href="javascript:nnno()" style="outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position:fixed;left:0px;top:0px;width:100%;height:100%;background:rgba(0, 0, 0, 0.6);display:none;z-index:1000000;" id="msgbgpp"></a>
<a href="javascript:allbbdiv()" style="outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);position:fixed;left:0px;top:0px;width:100%;height:100%;background:rgba(0, 0, 0, 0.6);display:none;" id="langbgg"></a>

  <div class="bottomdiv">
<a href="javascript:reduce()" style="width:20%;height:58px;background:rgba(0, 0, 0, 0);border-right: 1px solid #ccc;position:absolute;left:0%;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);border-top-left-radius:99em;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="reduce.svg" style="width:30px;" class="lightimg"><img src="reduce_dark.svg" style="width:30px;" class="darkimg"></span></a>

<a href="javascript:add()" style="width:20%; height:58px;background:rgba(0, 0, 0, 0); border-left: 1px solid #ccc; position:absolute;left:20%;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="add.svg" style="width:30px;"class="lightimg"><img src="add_dark.svg" style="width:30px;"class="darkimg"></span></a>
<a href="javascript:langs()" style="width:20%; height:58px;background:rgba(0, 0, 0, 0); border-left: 1px solid #ccc; position:absolute;left:40%;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="lang.svg" style="width:30px;"class="lightimg"><img src="lang_dark.svg" style="width:30px;"class="darkimg"></span></a> 
<a href="javascript:reload()" style="width:20%; height:58px;background:rgba(0, 0, 0, 0); border-left: 1px solid #ccc; position:absolute;left:60%;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="reload.svg" style="width:30px;"class="lightimg"><img src="reload_dark.svg" style="width:30px;"class="darkimg"></span></a>
 <a href="javascript:more()" style="width:20%; height:58px;background:rgba(0, 0, 0, 0); border-left: 1px solid #ccc; position:absolute;left:80%;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);border-top-right-radius:99em;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="more.svg" style="width:30px;"class="lightimg"><img src="more_dark.svg" style="width:30px;"class="darkimg"></span></a>

  <a href="googletpmap.html" target="_blank" style="display:none;width:58px; height:58px;background:#ffffff; border-left: 1px solid #ccc; position:absolute;left:116;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"> <span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="pin.svg" style="width:30px;"class="bbbimg"></span></a>
  
</div>
  <div class="langdiv">
    <a href="?lang=zh_TW" class="langb"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">中文</span></a>
    <a href="?lang=en_US" class="langb" style="top:57px;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">English</span></a>
    <a href="?lang=JP" class="langb" style="top:114px;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">日文</span></a>
    <a href="?lang=Kor" class="langb" style="top:171px;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">한국어</span></a>
    <a href="?lang=zh_CN" class="langb" style="top:228px;"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">简体中文</span></a> 
  </div>
  
  <div class="morediv">
    <center><p id="moredivtxtat">目前沒有更多功能</p></center>
  <a style="display:none;" href="javascript:web('https://erichsia7.github.io/Dg6LZUJK9oOPRsTE/tools/mrtmap/googletpmap.html','台北捷運Google地圖')" class="langb"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);">台北捷運Google地圖</span></a>
  </div>
  
  <div class="msgdiv">
<span style="font-family: 'Noto Sans TC', sans-serif; position: absolute;left:50%;top:50%;transform:translate(-50%,calc(-50% - 25px));" id="msginnertext">確認要重新整理？</span>

<a href="javascript:yyyes()" class="msgyes"><span style="font-family: 'Noto Sans TC', sans-serif; position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);" id="msgyestext">確認</span></a>

<a href="javascript:nnno()" class="msgno"> <span style="font-family: 'Noto Sans TC', sans-serif; position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);" id="msgnotext">取消</span> </a>

</div>
  
<div class="loadbg">
<span class="lightimg"><img src="metro.svg" style="position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);" class="icon"></span>
  <span class="darkimg"><img src="metro_dark.svg" style="position: fixed;left:50%;top:50%;transform:translate(-50%,-50%);" class="icon"></span>
</div>
  <a href="javascript:addhomeout()" id="addhome"><img src="iphone_add_to_home_screen_2.png" style="position:fixed;left:0px;bottom:0px;width:100%;display:none;" class="addhome"></a>
<div class="webdiv">
<div class="webtitle">
<a href="javascript:webclose()">
<span style="position: absolute;left:8px;top:50%; transform:translate(-0%,-50%);"
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDM0MS4zMzMgMzQxLjMzMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzQxLjMzMyAzNDEuMzMzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz4KCTxnPgoJCTxwb2x5Z29uIHBvaW50cz0iMzQxLjMzMywxNDkuMzMzIDgxLjcwNywxNDkuMzMzIDIwMC44NTMsMzAuMTg3IDE3MC42NjcsMCAwLDE3MC42NjcgMTcwLjY2NywzNDEuMzMzIDIwMC44NTMsMzExLjE0NyA4MS43MDcsMTkyICAgICAzNDEuMzMzLDE5MiAgICIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+PC9nPiA8L3N2Zz4K" style="width:20px;" class="lightimg">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzQxLjMzMyAzNDEuMzMzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzNDEuMzMzIDM0MS4zMzM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cG9seWdvbiBwb2ludHM9IjM0MS4zMzMsMTQ5LjMzMyA4MS43MDcsMTQ5LjMzMyAyMDAuODUzLDMwLjE4NyAxNzAuNjY3LDAgMCwxNzAuNjY3IDE3MC42NjcsMzQxLjMzMyAyMDAuODUzLDMxMS4xNDcgODEuNzA3LDE5MiANCgkJCTM0MS4zMzMsMTkyIAkJIi8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=" style="width:20px;" class="darkimg">
</span>
</a>
<span style="position: absolute;left:50%;top:50%; transform:translate(-50%,-50%);" id="webtitletext">標題</span>
</div>
<span id="weburl">
<iframe src="" class="web"></iframe>
</span>
</div>
  <script>
  
    function web(url,title) {
$('.webdiv').animate({bottom: 0 + '%'},555);
$('.webdiv,.webtitle').animate({'border-top-right-radius': 0 + 'px' , 'border-top-left-radius': 0 + 'px'},555);
$('#webtitletext').html(title);
$('#weburl').html('<iframe src="' + url + '" class="web"></iframe>');
}
function webclose() {
$('.webdiv').animate({bottom: -100 + '%'},555);
$('.webdiv,.webtitle').animate({'border-top-right-radius': 30 + 'px' , 'border-top-left-radius': 30 + 'px'},555);
}
    
  var cbarc = '#333333' ;
  
  function darkorlight() {
    if($('.text-mode').html() === dark ) {
     cbarc = '#ffffff' ; 
    }
    else {
      cbarc = '#333333' ;
    }
  }
  setInterval(darkorlight,100);
  
var p = 500 ;
function reduce() {
if (p >100) {
p -= 100 ;
}
$('#map,#krtmap,#tymap,#trmap,#map2,#krtmap2,#tymap2,#trmap2,#tgmap,#tgmap2').animate({width: p + '%' },555);
}

function add() {
if (p < 1000) {
p += 100 ;
}
$('#map,#krtmap,#tymap,#trmap,#map2,#krtmap2,#tymap2,#trmap2,#tgmap,#tgmap2').animate({width: p + '%' },555);
}
var ttiawid = 50 ;
function hometabof1() {
  $("#opopline").animate({left: 0 + '%' },555);
    
    $("#opopa").attr('class', 'topbartextyes');
    $("#opopb").attr('class', 'topbartextno');
    $("#opopc").attr('class', 'topbartextno');
    $("#opopd").attr('class', 'topbartextno');
    $("#opope").attr('class', 'topbartextno');
    $('#allmap').animate({left: 0 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
  }
  
  function hometabof2() {
$("#opopline").animate({left: 20 + '%' },555);
    
    $("#opopa").attr('class', 'topbartextno');
    $("#opopb").attr('class', 'topbartextyes');
    $("#opopc").attr('class', 'topbartextno');
    $("#opopd").attr('class', 'topbartextno');
    $("#opope").attr('class', 'topbartextno');
    $('#allmap').animate({left: -100 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
}

function hometabof3() {
$("#opopline").animate({left: 40 + '%' },555);
    
    $("#opopa").attr('class', 'topbartextno');
    $("#opopb").attr('class', 'topbartextno');
    $("#opopc").attr('class', 'topbartextyes');
    $("#opopd").attr('class', 'topbartextno');
    $("#opope").attr('class', 'topbartextno');
    $('#allmap').animate({left: -200 + '%' },555);
    $('#colorbar').animate({width: ttiawid + 'px' },555);
}
  
function hometabof4() {
$("#opopline").animate({left: 60 + '%' },555);
    
    $("#opopa").attr('class', 'topbartextno');
    $("#opopb").attr('class', 'topbartextno');
    $("#opopc").attr('class', 'topbartextno');
    $("#opopd").attr('class', 'topbartextyes');
    $("#opope").attr('class', 'topbartextno');
    $('#allmap').animate({left: -300 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
} 
    
    
    function hometabof5() {
$("#opopline").animate({left: 80 + '%' },555);
    
    $("#opopa").attr('class', 'topbartextno');
    $("#opopb").attr('class', 'topbartextno');
    $("#opopc").attr('class', 'topbartextno');
    $("#opopd").attr('class', 'topbartextno');
    $("#opope").attr('class', 'topbartextyes');
    $('#allmap').animate({left: -400 + '%' },555);
    $('#colorbar').animate({width: 50 + 'px' },555);
} 
    
    
    
    
    $('.loadbg').delay(3800).fadeOut(888);
    $('.darkmode-layer, .darkmode-toggle').delay(3800).fadeIn(888);
  var getUrlString = location.href;
var url = new URL(getUrlString);
  var lll = 0 ;
  if (url.searchParams.get('lang') === "en_US") {
   $("#opopa").html('TPE');
   $("#opopb").html('KHH');
   $("#opopc").html('TTIA');
   $("#opopd").html('DLR');
    $("#opope").html('TXG');
   $("title").html('Metro route map');
   $("#moredivtxtat").html('No more features currently');
    $("#msginnertext").html('Are you sure you want to refresh?');
   $("#msgyestext").html('Yes'); 
    $("#msgnotext").html('cancel'); 
    
   ttiawid = 55 ;
    lll = 1 ;
  }
  if (url.searchParams.get('lang') === "JP") {
   $("#opopa").html('<font size="2px">台北</font>');
   $("#opopb").html('<font size="2px">高雄</font>');
   $("#opopc").html('<font size="1px">ピーチマシン</font>');
   $("#opopd").html('<font size="1px">ダンハイ</font>');
    $("#opope").html('<font size="2px">台中</font>');
   $("title").html('MRT路線図');
    $("#moredivtxtat").html('現在、これ以上の機能はありません');
    $("#msginnertext").html('リロードしてもよろしいですか？');
   $("#msgyestext").html('確認'); 
    $("#msgnotext").html('キャンセル'); 
    
   ttiawid = 55 ;
    lll = 1 ;
  }
  if (url.searchParams.get('lang') === "Kor") {
   $("#opopa").html('<font size="1px">타이페이</font>');
   $("#opopb").html('<font size="2px">가오슝</font>');
   $("#opopc").html('<font size="1px">복숭아 기계</font>');
   $("#opopd").html('<font size="2px">단하이</font>');
    $("#opope").html('<font size="2px">타이중</font>');
    
   $("title").html('MRT 노선도');
   $("#moredivtxtat").html('현재 더 이상 기능이 없습니다.');
    $("#msginnertext").html('새로 고침 하시겠습니까?');
   $("#msgyestext").html('확인'); 
    $("#msgnotext").html('취소'); 
    
   ttiawid = 52 ;
    lll = 1 ;
  }
  if (url.searchParams.get('lang') === "zh_CN") {
      $("#opopa").html('北');
   $("#opopb").html('雄');
   $("#opopc").html('桃');
   $("#opopd").html('淡');
   $("#opope").html('中');
   $("title").html('捷运路线图');
   $("#moredivtxtat").html('目前没有更多功能');
   $("#msginnertext").html('确认要重新载入？');
   $("#msgyestext").html('确认'); 
   $("#msgnotext").html('取消'); 
   $('#tgdepp').html('开发中');   
   ttiawid = 50 ;
    lll = 1 ;
  }
  if (url.searchParams.get('add') === "false") {
        $('#addhome,.addhome').fadeOut(1);
  }
  else
  {
  }
  var ni = 2 ;
  var nii = 2 ;
  function langs() {
    $('.msgdiv,#msgbgpp').fadeOut(1);
  if (ni >"1") {
    
   if (nii <"1") {
    $('.morediv').delay(555).fadeOut(555).animate({bottom: -200 + 'px' },1);
    nii +=2 ;   
   }
    
    
$('.bottomdiv').animate({bottom: 200 + 'px' ,'border-top-right-radius':20 + 'px', 'border-top-left-radius':20 + 'px'},555);
    $('.langdiv').fadeIn(1).animate({bottom: 0 + 'px' },555);
    $('#allmap,.hometoptab').animate({top: -200 + 'px' },555);
    $('#langbgg').fadeIn(555);
   ni -=2 ;
   } 
else {
$('.bottomdiv').animate({bottom: 0 + 'px' ,'border-top-right-radius':0 + 'px','border-top-left-radius':0 + 'px'},555);
    $('.langdiv').fadeIn(1).animate({bottom: -200 + 'px' },555);
  $('#allmap,.hometoptab').animate({top: 0 + 'px' },555);
  $('#langbgg').fadeOut(555);
    ni +=2 ;   
  }
  }
  
  function more() {
    $('.msgdiv,#msgbgpp').fadeOut(1);
  if (nii >"1") {
    if (ni <"1") {
    $('.langdiv').delay(555).fadeOut(555).animate({bottom: -200 + 'px' },1);
    ni +=2 ;   
    }
$('.bottomdiv').animate({bottom: 200 + 'px' ,'border-top-right-radius':20 + 'px', 'border-top-left-radius':20 + 'px'},555);
    $('.morediv').fadeIn(1).animate({bottom: 0 + 'px' },555);
    $('#allmap,.hometoptab').animate({top: -200 + 'px' },555);
    $('#langbgg').fadeIn(555);
   nii -=2 ;
   } 
else {
$('.bottomdiv').animate({bottom: 0 + 'px' ,'border-top-right-radius':0 + 'px','border-top-left-radius':0 + 'px'},555);
    $('.morediv').fadeIn(1).animate({bottom: -200 + 'px' },555);
  $('#allmap,.hometoptab').animate({top: 0 + 'px' },555);
  $('#langbgg').fadeOut(555);
    nii +=2 ;   
  }
  }
  function allbbdiv() {
    if (nii <"1") {
      more();
    }
    if (ni <"1") {
      langs();
    }
  }
  function reload() {
  $('.msgdiv,#msgbgpp').fadeIn(555);
  }
  function yyyes() {
    location.reload();
  }
  function nnno() {
    $('.msgdiv,#msgbgpp').fadeOut(555);
  }
  function addhomeout() {
    $('#addhome,.addhome').fadeOut(888);
    location.href= '?add=false' ;
  }
</script>
<script>
  window.onload = function() {
    // 阻止雙擊放大
    var lastTouchEnd = 0;
    document.addEventListener('touchstart', function(event) {
        if (event.touches.length > 1) {
            event.preventDefault();
        }
    });
    document.addEventListener('touchend', function(event) {
        var now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
            event.preventDefault();
        }
        lastTouchEnd = now;
    }, false);

    // 阻止雙指放大
    document.addEventListener('gesturestart', function(event) {
        event.preventDefault();
    });
}
</script>
</body>
