<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<meta charset="UTF-8">
<title>捷運路線圖</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.mapdiv {position:absolute;top:45px;left:0px; width:100%;height:calc(100% - 120px);background:#ffffff;overflow:scroll;}
.bottomdiv {position:fixed;bottom:0px;left:0px;width:100%;height:75px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);}

.hometoptab {width:100%;height:45px;position:fixed;top:0px;left:0px;background:#ffffff; box-shadow:0 0 6px 1px rgba(0,0,0,0.2);z-index:1000;}

</style>

<div class="hometoptab">
    
      
    <div style="position: absolute;left:50%;top:40%; transform:translate(-50%,-50%); width:100%;height:100%;">
      
      <div style="position: absolute;left:0%;top:0%;width:33%;height:100%;background:rga(0, 0, 0, 0);">       
<a href="javascript:hometabof1()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop1"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#333333;font-size:18px;" id="opopa">台北</span></a>     
</div>    
      <div style="position: absolute;left:50%;top:0%;width:33%;height:100%;background:rga(0, 0, 0, 0);transform:translate(-50%,-0%);">
<a href="javascript:hometabof2()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop2"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#808080;font-size:18px;" id="opopb">高雄</span></a>  
      </div>
<div style="position: absolute;right:0%;top:0%;width:33%;height:100%;background:rga(0, 0, 0, 0);">
<a href="javascript:hometabof3()" style="width:93%;height:40px;background:rgba(0, 0, 0, 0);position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-appearance:none;outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);" id="opop3"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#808080;font-size:18px;" id="opopc">桃機</span></a>  
      </div>

      <div style="width:calc(33% + (1% / 3));height:3px;position: absolute;left:0%;bottom:5px;background:rgba(0, 0, 0, 0);border-radius: 5px;" id="opopline">
     <div style="width:50px;height:3px;background:#333333;border-radius: 5px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);" id="colorbar"></div>
      
      </div>
      
    </div> 
    <div class="hometoptabline"></div>
  </div>
<div style="position:absolute;top:0px;left:0px;overflow:hidden;width:100%;height:100%;">
<div class="mapdiv" id="tp">
<img src="map.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="map">
</div>

<div class="mapdiv" id="km" style="left:100%;display:none;">
<img src="krtmap.svg" style="width:500%;position:absolute;top:0px;left:0px;" id="krtmap">
</div>

<div class="mapdiv" id="ty" style="left:100%; display:none;">
<img src="tymap.jpg" style="width:500%;position:absolute;top:0px;left:0px;" id="tymap">
</div>
</div>
<div class="bottomdiv">
<a href="javascript:reduce()" style="width:72px;height:72px;background:#ffffff;border-right: 1px solid #ccc;position:fixed;left:0px;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"><span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="reduce.svg" style="width:30px;"></span></a>

<a href="javascript:add()" style="width:72px; height:72px;background:#ffffff; border-left: 1px solid #ccc; position:fixed;left:72px;bottom:1px; outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);"> <span style="position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);"><img src="add.svg" style="width:30px;"></span></a>
</div>
<script>
var p = 500 ;
function reduce() {
if (p >100) {
p -= 100 ;
}
$('#map,#krtmap,#tymap').animate({width: p + '%' },555);
}

function add() {
if (p < 1000) {
p += 100 ;
}
$('#map,#krtmap,#tymap').animate({width: p + '%' },555);
}

function hometabof1() {
  $("#opopline").animate({left: 0 + '%' },555);
    
    $("#opopa").css("color","#333333");
    $("#opopb").css("color","#808080");
    $("#opopc").css("color","#808080");
    $('#tp').fadeIn(1).animate({left: 0 + '%' },555);
    $('#km').animate({left: 100 + '%' },555).fadeOut(1);
    $('#ty').animate({left: 100 + '%' },555).fadeOut(1);
    $('#colorbar').animate({left: 50 + '%' },555);
  }
  
  function hometabof2() {
$("#opopline").animate({left: 33 + (1 / 3) + '%' },555);
    
    $("#opopa").css("color","#808080");
    $("#opopb").css("color","#333333");
    $("#opopc").css("color","#808080");
    $('#tp').animate({left: -100 + '%' },555).fadeOut(1);
    $('#ty').animate({left: 100 + '%' },555).fadeOut(1);
    $('#km').fadeIn(1).animate({left: 0 + '%' },555);
    $('#colorbar').animate({left: 50 + '%' },555);
  }

function hometabof3() {
$("#opopline").animate({left: 66 + (1 / 3) + '%' },555);
    
    $("#opopa").css("color","#808080");
    $("#opopb").css("color","#808080");
    $("#opopc").css("color","#333333");
    $('#tp').animate({left: -100 + '%' },555).fadeOut(1);
    $('#km').animate({left: 100 + '%' },555).fadeOut(1);
    $('#ty').fadeIn(1).animate({left: 0 + '%' },555);
    $('#colorbar').animate({left: 50 + '%' },555);
  }

</script>
<script>
  window.onload = function() {
    // 阻止雙擊放大
    var lastTouchEnd = 0;
    document.addEventListener('touchstart', function(event) {
        if (event.touches.length > 1) {
            event.preventDefault();
        }
    });
    document.addEventListener('touchend', function(event) {
        var now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
            event.preventDefault();
        }
        lastTouchEnd = now;
    }, false);

    // 阻止雙指放大
    document.addEventListener('gesturestart', function(event) {
        event.preventDefault();
    });
}
</script>
