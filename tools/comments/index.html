<!DOCTYPE html>
<html lang="zh-tw" >
<head>
  <meta charset="UTF-8">
  <title>留言</title>
  <style>
    :root {
  --loading-grey: #ededed;
}

a {
  background:#e3e3e3;
  padding:10px;
  margin:3px;
  border-radius:12px;
  font-size:30px;
  color:#333;
  text-decoration: none;
}

body {
  background-color: #fff;
  font-family: Helvetica;
  font-size: 15px;
  display: block;
  min-height: 100vh;
}

.card {
  width: 320px;
  background-color: #fff;
  border-radius: 12px;
  overflow: hidden;
  margin-top:12px;
  border:1px #e6e6e6 solid;
  position: relative;
  left:50%;
  transform:translateX(-50%);
}

.content {
  padding: 2rem 1.8rem;
}

h4 {
  margin: 0 0 1rem;
  font-size: 1.5rem;
  line-height: 1.5rem;
}

.description {
  font-size: 1rem;
  line-height: 1.4rem;
}

.loading .image,
.loading h4,
.loading .description {
  background-color: var(--loading-grey);
  background: linear-gradient(
    100deg,
    rgba(255, 255, 255, 0) 40%,
    rgba(255, 255, 255, .5) 50%,
    rgba(255, 255, 255, 0) 60%
  ) var(--loading-grey);
  background-size: 200% 100%;
  background-position-x: 180%;
  animation: 1s loading ease-in-out infinite;
}

@keyframes loading {
  to {
    background-position-x: -20%;
  }
}

.loading h4 {
  min-height: 1.6rem;
  border-radius: 4px;
  animation-delay: .05s;
}

.loading .description {
  min-height: 4rem;
  border-radius: 4px;
  animation-delay: .06s;
}
  </style>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
</head>
<body>
  <center><h1>留言</h1></center>
<div class="card">
  <div class="content">
    <h4><input type="name" id="name" style="border:none;border-bottom:3px #e6e6e6 solid;border-radius:0px;" placeholder="暱稱"/></h4>
    <div class="description">
      <input type="text" id="text" style="border:none;border-bottom:3px #e6e6e6 solid;border-radius:0px;" placeholder="留言"/>
    </div>
  </div>
</div>
<center>
  <br><br>
<a href="javascript:sub()">送出</a>
<a href="javascript:gaa()">更新</a>
</center>
<div id="myDiv"><h2>載入中</h2></div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  <script>
  function gaa() {
  gggg=$.ajax({url:"https://docs.google.com/spreadsheets/d/e/2PACX-1vTiBcPcMgUR06hv74It1OtUtCkqVmdG5_pVsZ4kY9NbOhyPX8GbHy8EYq4980GgVCiOd_32Fa22lvUw/pub?gid=1098808332&single=true&output=csv",async:false});
  
    
    $('#myDiv').html('')
    for (var i=1; i<gggg.responseText.split(/\n/).length; i++){
$('#myDiv').prepend('<div class="card"><div class="content"><h4>' + gggg.responseText.split(/\n/)[i].split(',')[1] + '(' + gggg.responseText.split(/\n/)[i].split(',')[0] + ')</h4><div class="description">' + gggg.responseText.split(/\n/)[i].split(',')[2] + '</div></div></div>');
}
  }

function sub() {
 $.ajax({url:"https://docs.google.com/forms/d/e/1FAIpQLSdNhTBmrWtG4BHn8lQyfRfYMriBu6KQNsErbUc2SE59UEfzag/formResponse?usp=pp_url&entry.726629075=" + document.querySelector('#name').value + "&entry.2040952284=" + document.querySelector('#text').value,async:false});
   gaa();
 } 

gaa()
  </script>

</body>
</html>
