<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>個人檔案產生器</title>
<style>
    * {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);}
input {
border:none;
border-radius:0px;
border-bottom: 2px solid #212121;
-webkit-appearance:none;
outline:none;
-webkit-tap-highlight-color:rgba(0,0,0,0);
color:#212121;
font-size:45px;
height:55px;
width:calc(100% - 60px);
padding:0px;
padding-left:3px;
}
.inputdiv {
background:#fff;
border-radius:0px;
margin:0px;
padding:30px 30px ;
height:calc(100vh + 120px);
max-width:calc(100%);
}
.undo {
text-decoration:none;
padding:10px;
font-size:40px;
color:#212121;
background:#f2f2f2;
border-radius:10px;
}
.next {
text-decoration:none;
padding:10px;
font-size:40px;
color:#212121;
background:#f2f2f2;
border-radius:10px;
}
#loading {
background:#fff;
height:100%;
width:100%;
position:fixed;
left:0px;
top:0px;
display:none;
}
#bar {background:#333;top:0px;left:0px;position:fixed;width:0%;height:5px;}
#barbg {background:#e3e3e3;top:0px;left:0px;position:fixed;width:100%;height:5px;}
#input {width:100%;height:calc(100vw * 12);background:#fff;position:absolute;left:0px;top:0px;}

.msg {z-index:99999999999998;background:rgba(51, 51, 51, 0.8);width:auto;height:auto;padding:5px 15px;position:fixed;top:-80px;left:50%;transform:translate(-50%,-0%);border-radius:25px;color:#ffffff;}  
.btn {height:55px; transform:translate(-0%,12px);}
.btnbox {margin-top:12px;}
</style>
<div id="input"></div>

<div id="loading">

<input type="text" placeholder="連結" id="profilelink" style="width:calc(100% - 24px - 55px);margin-left:12px;margin-top:12px;"readonly="readonly">

<a href="javascript:copy('profilelink')" class="btnbox"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iLTQwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtMjcxIDUxMmgtMTkxYy00NC4xMTMyODEgMC04MC0zNS44ODY3MTktODAtODB2LTI3MWMwLTQ0LjExMzI4MSAzNS44ODY3MTktODAgODAtODBoMTkxYzQ0LjExMzI4MSAwIDgwIDM1Ljg4NjcxOSA4MCA4MHYyNzFjMCA0NC4xMTMyODEtMzUuODg2NzE5IDgwLTgwIDgwem0tMTkxLTM5MWMtMjIuMDU0Njg4IDAtNDAgMTcuOTQ1MzEyLTQwIDQwdjI3MWMwIDIyLjA1NDY4OCAxNy45NDUzMTIgNDAgNDAgNDBoMTkxYzIyLjA1NDY4OCAwIDQwLTE3Ljk0NTMxMiA0MC00MHYtMjcxYzAtMjIuMDU0Njg4LTE3Ljk0NTMxMi00MC00MC00MHptMzUxIDI2MXYtMzAyYzAtNDQuMTEzMjgxLTM1Ljg4NjcxOS04MC04MC04MGgtMjIyYy0xMS4wNDY4NzUgMC0yMCA4Ljk1MzEyNS0yMCAyMHM4Ljk1MzEyNSAyMCAyMCAyMGgyMjJjMjIuMDU0Njg4IDAgNDAgMTcuOTQ1MzEyIDQwIDQwdjMwMmMwIDExLjA0Njg3NSA4Ljk1MzEyNSAyMCAyMCAyMHMyMC04Ljk1MzEyNSAyMC0yMHptMCAwIiBmaWxsPSIjODA4MDgwIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIj48L3BhdGg+PC9nPjwvc3ZnPg==" class="btn"></a>
   <br><br>
   <a href="javascript:undo99()" class="undo" style="margin-left:12px;">上一步</a>
</div>

<div id="barbg"></div>
<div id="bar"></div>

<div id="msg" class="msg"></div>

<script>
var placeholder = ['姓名','頭貼照片網址','簡介','項目1','項目1數值','項目2','項目2數值','項目3','項目3數值','項目4','項目4數值','聯絡表單連結','logo圖片網址']
for(i = 0; i < placeholder.length; i++) {
$('#input').append('<div class="inputdiv" id=""><input type="text" id=""><br><br><a href="javascript:goto(' + (i-1) + ')" class="undo">上一步</a><br><br><a href="javascript:goto(' + (i+1) + ')" class="next">下一步</a></div>');
$('input').eq(i).attr('placeholder', placeholder[i]);
$('input').eq(i).attr('id','input' + i);
$('.inputdiv').eq(i).attr('id',i);
    }

$('#input').append('<div class="inputdiv" id="13"><input type="text" id="input13" placeholder="社群連結，以,分隔"><br><br><input type="text" id="input14" placeholder="社群名稱，以,分隔"><br><br><a href="javascript:goto(' + (i-1) + ')" class="undo">上一步</a><br><br><a href="javascript:goto(' + (i+1) + ')" class="next">下一步</a></div>');

function goto(id) {
if(id < 1) {

$('html,body').animate({scrollTop:0 },888);
$('#bar').animate({width: 0 + '%'},888);
}
else {
if(id > 13) {
$('#loading').fadeIn(222);
$('#bar').animate({width: 100 + '%'},888);
okay();
}
else {
$('html,body').animate({scrollTop: $('#' + id).offset().top },888);
$('#bar').animate({width: (100/13) * id  + '%'},888);
}
}
}
   function undo99() {
      $('#loading').fadeOut(222);
      $('#bar,#barbg').fadeIn(111);
   }

function okay() {
$('#bar,#barbg').fadeOut(111);
var data = $('input').eq(0).val() + ',' + $('input').eq(1).val() + ',' + $('input').eq(2).val() + ',' + $('input').eq(3).val() + ',' + $('input').eq(4).val() + ',' + $('input').eq(5).val() + ',' + $('input').eq(6).val() + ',' + $('input').eq(7).val() + ',' + $('input').eq(8).val() + ',' + $('input').eq(9).val() + ',' + $('input').eq(10).val() + ',' + $('input').eq(11).val() + ',' + $('input').eq(12).val() ;
var ms = $('input').eq(13).val() ;
var ts = $('input').eq(14).val() ;
var dated = encodeURI(data) ;
var dateds = btoa(dated) ;
var urled = 'https://erichsia7.github.io/Dg6LZUJK9oOPRsTE/tools/profile/?d=' + dateds + '&m=' + ms + '&t=' + ts ;
$('#profilelink').val(urled);
}

function copy(id) {
var copys = document.getElementById(id);
copys.select();
document.execCommand("Copy");
$('#msg').html('已複製連結').animate({top: 70 + 'px' },333).delay(1111).animate({top: -80 + 'px' },333);

}

</script>
