<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta charset="UTF-8">
<title>每日一誌</title>
<style>
.pageimg {
width:auto;height:auto;
max-height:90vh;
max-width:90vw;
background:#e3e3e3;
border-radius:15px;
margin-top:10px;
margin-bottom:10px;
}


.searchdiv {
width:calc(100% - 50px);margin-left:15px;margin-top:30px;height:auto;min-height:80px;background:#fff; box-shadow:0 0 6px 1px rgba(0,0,0,0.03);border-radius:25px;
padding:10px;font-size:35px;color:#333;
}
.searchput {
width:calc(100% - 52px);height:52px;position:absolute;top:0px;left:0px;border:none;backgroun:rgba(0, 0, 0, 0); -webkit-appearance:none;
outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);font-size:30px;padding:5px;
}

.searchput::placeholder {
  color:#e3e3e3;
  opacity:0.9;
}

.searchbutton {
opacity:1;
width:50px;
height:50px;
}

.searchbuttonbox {
position:absolute;top:0px;right:0px;width:52px;height:52px;
}

.webfullbage {
position:absolute;top:60px;left:0px;width:calc(100vw - 20px);min-height:100vh;height:auto;background:#fff;display:none; font-size:50px;padding:10px;padding-bottom:70px;
}

.webfullbages {
position:fixed;top:0px;left:0px;width:100%;height:100%;background:#fff; overflow:scroll;
}

.topbar {width: 100%;height: 52px;color: #212121;font-size: 25px;opacity:1.0; position:fixed;z-index:1000;left:0px;top:0px; -webkit-backdrop-filter: blur(15px); backdrop-filter: blur(15px); background: rgba(255, 255, 255, 1);box-shadow:0 0 6px 1px rgba(0,0,0,0.2);}

.bottombar {width: 100%;height: 52px;color: #212121;font-size: 25px;opacity:1.0; position:fixed;z-index:1000;left:0px;bottom:0px; -webkit-backdrop-filter: blur(15px); backdrop-filter: blur(15px); background: rgba(255, 255, 255, 1);box-shadow:0 0 6px 1px rgba(0,0,0,0.2);}


.icon {width:48px;height:48px; object-fit: cover; object-position: 0px 0px; position: absolute;left:50%;top:50%;transform:translate(-50%,-50%);}
.bottombarbutton {position:absolute;top:0px;left:0px;width:calc(100% / 3);height:52px;}
a {outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);
    text-decoration:none;}
</style>
<div class="webfullbages">
<center>

<style>
.loadingimgpng{width:150px;height:150px;object-fit:cover;object-position:0 0;margin-top:60px;opacity:0.6;}
</style>
<img src="loading-an.png" class="loadingimgpng" style="">
<script>
var t=0;setInterval(function(){t>6&&(t=-1),t+=1,f=0-150*t,$(".loadingimgpng").attr("style","object-position: 0px  "+f+"px;")},88);
</script>
</center>
<div class="webfullbage" id="webfullbage">

</div>
</div>

<div class="topbar" id="top2"><center style="font-size:20px;position: absolute;left:50%;top:50%;transform:translate(-50%,-50%); font-family: 'M PLUS Rounded 1c', sans-serif;">每日一誌</center></div>



<div class="bottombar" id="bottom2">
<div class="bottombarbutton"><a href="javascript:tabhome()"><img src="icons.png" class="icon" id="icon-home"></a></div>

<div class="bottombarbutton" style="left:calc(100% / 3);"><a href="javascript:tabsearch()"><img src="icons.png" class="icon" style="object-position: 0px -48px; opacity:0.3;" id="icon-search"></a></div>
<div class="bottombarbutton" style="left:calc((100% / 3) * 2);"><a href="javascript:tabmore()"><img src="icons.png" class="icon" style="object-position: 0px -96px;opacity:0.3;" id="icon-more"></a></div>
</div>



<script>
var getUrlString = location.href;
var url = new URL(getUrlString);


/* 可搜尋內容 格式-> title[:]id */
var fff = ['臨事須替別人想，論人先將自己想[:]i9TBGdPjK1xbpwoe','如果我是男（女）生的話[:]Y7c3gSBbIMUxTWpK','讓我改變的一位歷史人物[:]YE8RjcehbUr79ApX','內在美與外在美[:]qOdHLMZfxNJE8n7g','肌肉照片[:]wqgODHepa3zFR8rA','這是第一篇文章[:]3FUpskjYaXLScRyl'] ;

/* 首頁內容 格式-> title[:]id */
var homefff = fff ;



/* 程式區 */
var searchputhtmljs = '<input type="text" class="searchput" placeholder="搜尋" id="searchput"><a href="javascript:searching()" class="searchbuttonbox"><img src="icons.png" class="icon searchbutton" style="object-position: 0px -50px;" id="icon-search-top-bar"></a>' ;

var searchdefhtml = '<center style="color:#ccc;font-size:30px;"><img src="icons.png" class="icon searchbutton" style="object-position: 0px -190px;width:190px;height:190px; position: static;transform:translate(-0%,-0%);opacity:0.2;" id="icon-search-def-html-img"><br>輸入關鍵字並按下放大鏡開始搜尋！</center>' ;


var passwordLength = 16 ;
var char = ["0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+?><:{}[]","45678abcdefghijklmnopqrstuvwxyzABCDEFG90123HIJKLMNOPQR()_+?STUVWXYZ!@#$%^&*><:{}[]","!@#$%^&*()_+?><:{}[]0123456789abcdefghijklmnopqrstHIJKLMNOPQRSTUVWXYuvwxyzABCDEFGZ","6789abcdefghijklmnopqrstHIJKLMNOPQRSTUVWXYuvwxyzABCDEFGZ012345!@#$%^&*()_+?><:{}[]","KLMNOPQRSTUVWXYuvwxyz6789abcdefghijklmnopqrstHIJEFGZ012345!@#$%^&*()_+?><:{ABCD}[]","ABCDhijklmnopqrstuvwxyzEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefg!@#$%^&*()_+?><:{}[]"];

var chars = char[Math.floor(Math.random() * 5)] ;
var password = "" ;
for (var i=0; i<passwordLength; i++){
var randomNumber = Math.floor(Math.random() * chars.length);
password += chars.substring(randomNumber, randomNumber+1);
}

var homeaaa = '' ;
for(j = 0; j < homefff.length; j++) { 
homeddd = fff[j].split('[:]') ;
homeaaa += '<a href="?id=' + homeddd[1] + '"><div class="searchdiv" id="' + j + '">' + homeddd[0] + '</div></a>' ;
}
$('.webfullbage').html(homeaaa);

var id = url.searchParams.get('id') ;
if(id === 'home') {
$('.icon').eq(0).css("opacity","1");
$('.icon').eq(1).css("opacity","0.3");
$('.icon').eq(2).css("opacity","0.3");

$('.webfullbage').html(homeaaa);
}
else {
if(id === 'search') {
$('.icon').eq(0).css("opacity","0.3");
$('.icon').eq(1).css("opacity","1");
$('.icon').eq(2).css("opacity","0.3");

$('.webfullbage').html(searchdefhtml);
$('#top2').html(searchputhtmljs);
}
else {
if(id === 'more') {

$('.icon').eq(0).css("opacity","0.3");
$('.icon').eq(1).css("opacity","0.3");
$('.icon').eq(2).css("opacity","1");
$('.webfullbage').html('<center style="color:#ccc;font-size:30px;">目前沒有更多功能</center>');
}
else {
$('.webfullbage').load('https://erichsia7.github.io/6df09188-7b25-3dc4-6745-96071c95bd7a/doc/' + url.searchParams.get('id') + '.text?' + password);
}
}
}

$('.webfullbage').ready(function() {
$('.webfullbage').delay(1000).fadeIn(888);
});


$('.searchput').focus(function(){
    $('.searchput').attr('placeholder','輸入關鍵字');
  });
  $('.searchput').blur(function(){
    $('.searchput').attr('placeholder','搜尋');
  });

function tabhome() {
$('.icon').eq(0).css("opacity","1");
$('.icon').eq(1).css("opacity","0.3");
$('.icon').eq(2).css("opacity","0.3");
location.replace('?id=home');
}

function tabsearch() {
$('.icon').eq(0).css("opacity","0.3");
$('.icon').eq(1).css("opacity","1");
$('.icon').eq(2).css("opacity","0.3");
location.replace('?id=search');
}

function tabmore() {
$('.icon').eq(0).css("opacity","0.3");
$('.icon').eq(1).css("opacity","0.3");
$('.icon').eq(2).css("opacity","1");
location.replace('?id=more');
}

var aaa = '' ;
for(i = 0; i < fff.length; i++) { 
ddd = fff[i].split('[:]') ;
aaa += '<a href="?id=' + ddd[1] + '"><div class="searchdiv" data-index="' + ddd[0] + '" id="' + i + '">' + ddd[0] + '</div></a>' ;
}
var ffffgg = aaa ;



function searching() {
$('#icon-search-top-bar').animate({opacity: 0.3 }, 333 ).delay(111).animate({opacity: 1 }, 333 );
var SearchQueryValue = document.getElementById('searchput').value ;
$('.webfullbage').html('<style class="webfullbageSearch"></style>' + ffffgg);

var mSearch = $('.webfullbageSearch');
  var value = $('#searchput').val();
  if (!value) {
    mSearch.html('');
$('.webfullbage').html(searchdefhtml);

    return;
  }; 
  mSearch.html('.searchdiv:not([data-index*="' + value.toLowerCase() + '"]) {display:none;}');

}


/* $('.searchdiv').click(function() {
   pageid = $( this ).attr('pageid') ;
   location.replace('?id=' + pageid);
});
*/


</script>


<script>
$('.webfullbages').scroll(function(){
var before = $('.webfullbages').scrollTop();
$('.webfullbages').scroll(function() {
var after = $('.webfullbages').scrollTop();
if (before<after) {
$('#top2').stop().animate({top: -100 }, 111 );
$('#bottom2').stop().animate({bottom: -100 }, 111 );
	//up
before = after;
};
if (before>after) {
$('#top2').stop().animate({top: 0 }, 111 );
$('#bottom2').stop().animate({bottom: 0 }, 111 );
	//down
before = after;
};
if(before < 1) {

$('#top2').stop().animate({top: 0 }, 111 );

$('#bottom2').stop().animate({bottom: 0}, 111 );

before = after;

}
});
});
	</script>
